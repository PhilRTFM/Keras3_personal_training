library(dplyr)

# Charger les données
data("msleep", package = "ggplot2")

# Préparer les données numériques uniquement
msleep_num <- msleep %>%
  select(where(is.numeric)) %>%
  drop_na()  # enlever NA pour la PCA

# Filtrer les individus pour lesquels on a aussi un group_factor valide
group <- msleep %>%
  filter(!is.na(vore)) %>%
  pull(vore)

# Aligner avec les lignes de msleep_num
group_aligned <- group[as.integer(rownames(msleep_num))]

# Appel de la fonction PCA
pca_facet_plot(x = msleep_num, group_factor = group_aligned, verbose = TRUE)
